{"version":3,"sources":["../../src/lib/stackWindow.js"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA,YAAY,CAAC;;AAEb,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3B,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC1B,IAAI,QAAQ,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AACpC,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACjC,IAAI,OAAO,GAAG;AACZ,YAAU,EAAE,IAAI;AAChB,cAAY,EAAE,IAAI;AAClB,KAAG,EAAE,IAAI;AACT,MAAI,EAAE,KAAK;AACX,OAAK,EAAE,KAAK;AACZ,QAAM,EAAE,KAAK;AACb,SAAO,EAAE,EAAE;AACX,MAAI,EAAE,IAAI;AACV,QAAM,EAAE;AACN,QAAI,EAAE,MAAM;GACb;AACD,OAAK,EAAE;AACL,MAAE,EAAE,OAAO;AACX,MAAE,EAAE,OAAO;AACX,UAAM,EAAE;AACN,QAAE,EAAE,SAAS;KACd;GACF;CACF,CAAC;;AAEF,IAAI,UAAU,GAAG,EAAE,KAAK,EAAE,EAAE,EAAG,SAAS,EAAE,EAAE,EAAG,UAAU,EAAE,EAAE,EAAG,WAAW,EAAE,EAAE;AAC5D,UAAQ,EAAE,EAAE,EAAG,YAAY,EAAE,EAAE,EAAG,aAAa,EAAE,EAAE,EAAG,cAAc,EAAE,EAAE;AACxE,QAAM,EAAE,EAAE,EAAG,UAAU,EAAE,EAAE,EAAG,KAAK,EAAE,EAAE,EAAG,SAAS,EAAE,EAAE;AACvD,SAAO,EAAE,EAAE,EAAG,WAAW,EAAE,EAAE,EAAG,QAAQ,EAAE,GAAG,EAAE,CAAC;AACnE,IAAI,UAAU,GAAG,EAAE,cAAc,EAAE,CAAC,EAAE,eAAe,EAAE,CAAC,EAAE,CAAC;;AAI3D,MAAM,CAAC,OAAO,GAAG,YAAW;AAC1B,MAAI,GAAG,CAAC;;AAGR,MAAI,YAAY,GAAG,SAAS,YAAY,CAAC,OAAO,EAAE;AAChD,QAAI,KAAK,GAAG,IAAI,QAAQ,CAAC,EAAC,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,UAAU;AACpC,UAAI,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC;AACvF,KAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,UAAS,SAAS,EAAE;AAC7C,WAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,EACrC,SAAS,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,YAAY,GAAG,WAAW,EACxE,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;KAC7C,CAAC,CAAC;AACH,WAAO,KAAK,CAAC,QAAQ,EAAE,CAAC;GACzB,CAAC;;AAIF,MAAI,IAAI,GAAG,SAAS,KAAK,CAAC,GAAG,EAAE,OAAO,EAAE;AACtC,WAAO,CAAC,MAAM,GAAG,GAAG,CAAC;AACrB,OAAG,GAAG,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAC3B,OAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;;AAEhB,OAAG,CAAC,UAAU,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC;AACtC,OAAG,CAAC,KAAK,EAAE,CAAC;AACZ,OAAG,CAAC,MAAM,EAAE,CAAC;GACd,CAAC;;AAEF,SAAO;AACL,QAAI,EAAE,IAAI;GACX,CAAC;CACH,CAAC","file":"stackWindow.js","sourcesContent":["/*\n * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)\n * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\n * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING\n * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\n'use strict';\n\nvar path = require('path');\nvar _ = require('lodash');\nvar cliTable = require('cli-table');\nvar blessed = require('blessed');\nvar options = {\n  scrollable: true,\n  alwaysScroll: true,\n  top: '0%',\n  left: '60%',\n  width: '40%',\n  height: '50%',\n  content: '',\n  tags: true,\n  border: {\n    type: 'line'\n  },\n  style: {\n    fg: 'white',\n    bg: 'black',\n    border: {\n      fg: '#f0f0f0'\n    },\n  }\n};\n\nvar tableChars = { 'top': '' , 'top-mid': '' , 'top-left': '' , 'top-right': '',\n                   'bottom': '' , 'bottom-mid': '' , 'bottom-left': '' , 'bottom-right': '',\n                   'left': '' , 'left-mid': '' , 'mid': '' , 'mid-mid': '',\n                   'right': '' , 'right-mid': '' , 'middle': ' ' };\nvar tableStyle = { 'padding-left': 0, 'padding-right': 0 };\n\n\n\nmodule.exports = function() {\n  var box;\n\n\n  var buildContent = function buildContent(context) {\n    var table = new cliTable({chars: tableChars, style: tableStyle,\n                              head: ['file', 'function', 'line'], colWidths: [20, 30, 8]});\n    _.each(context.callFrames, function(callFrame) {\n      table.push([path.basename(callFrame.location.url), \n                  callFrame.functionName.length > 0 ? callFrame.functionName : 'anonymous',\n                  callFrame.location.lineNumber]);\n    });\n    return table.toString();\n  };\n\n\n\n  var open = function start(scr, context) {\n    options.parent = scr;\n    box = blessed.box(options);\n    scr.append(box);\n\n    box.setContent(buildContent(context));\n    box.focus();\n    scr.render();\n  };\n\n  return {\n    open: open\n  };\n};\n\n"]}