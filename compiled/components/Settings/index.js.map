{"version":3,"sources":["../../../src/components/Settings/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react'\nimport * as style from '../../style'\nimport {focusPanel, setDimensions} from '../../actions'\nimport layouts from '../../config/layouts'\nimport functional from 'react-functional'\n\nconst bg = {\n  style: {\n    fg: 'white',\n    bg: 'blue',\n  }\n}\n\nconst settings =  {\n  border: {\n    type: 'bg'\n  },\n  padding: {left: 1, right: 1},\n  ...bg\n}\n\nconst help = `\n{underline}{bold}Keys{/bold}{/underline}\n\n    {bold}1{/bold} - Sources                          {bold}?{/bold} - Settings/Help\n    {bold}2{/bold} - Networking                       {bold}tab{/bold} - next panel\n    {bold}3{/bold} - Profiling                        {bold}shift+tab{/bold} - previous panel  \n    {bold}4{/bold} - Console                            \n                                         {bold}ctrl+n{/bold} - {bold}n{/bold}avigator\n    {bold}n{/bold} - step over ({bold}n{/bold}ext)                 {bold}ctrl+t{/bold} - {bold}t{/bold}ext editor\n    {bold}r{/bold} - {bold}r{/bold}esume                           {bold}ctrl+s{/bold} - call{bold}s{/bold}tack\n    {bold}p{/bold} - {bold}p{/bold}ause                            {bold}ctrl+p{/bold} - break{bold}p{/bold}oints\n    {bold}b{/bold} - toggle {bold}b{/bold}reakpoint                {bold}ctrl+o{/bold} - sc{bold}o{/bold}pe\n`\n\nconst hideWhen = dispatch => (ch, key) => {\n  if (ch === '?') { dispatch(focusPanel('editor')) }\n  console.log(ch, key)  \n}\n\nconst Settings = ({refresh, layout, focused, top, left, width, height, align, padding, dispatch}, cmp) => (\n  <box\n    keys={true}\n    mouse={true}\n    clickable={true}\n    draggable={true}\n    index={20}\n    class={[style.panel, settings]}\n    left={left}\n    width={width}\n    top={top}\n    height={height}\n    align={align}\n    padding={padding}\n  >\n    <form\n      ref='form'\n      focused={focused}\n      inputOnFocused={true}\n      mouse={true}\n      keys={true}\n      class={{...bg}}\n      onKeypress={hideWhen(dispatch)}\n    >\n      <box tags={true} top={1} class={{...bg}}>\n        {'{underline}{bold}Layout{/bold}{/underline}'}\n      </box>\n      <radioset \n        mouse={true} \n        keys={true}  \n        height={9} \n        top={3} \n        class={{...bg, padding: {left: 4}}}\n      >\n        <radiobutton\n          onKeypress={(ch, {name}) => {\n            if (name === 'right') {\n              cmp.refs.form.focusNext()\n            }\n            hideWhen(dispatch)(ch)\n          }} \n          onCheck={() => {\n            dispatch(setDimensions(layouts.normal))\n            refresh()\n          }}\n          height={1} \n          width={28} \n          checked={layout.name === 'normal'} \n          text='Normal'   \n          class={{...bg}}\n        />\n        <radiobutton\n          onKeypress={(ch, {name}) => {\n            if (name === 'left') {\n              cmp.refs.form.focusPrevious()\n            }\n            hideWhen(dispatch)(ch)\n          }} \n          onCheck={() => {\n            dispatch(setDimensions(layouts.compact))\n            refresh()\n          }}\n          left={28} \n          height={1} \n          width={28} \n          checked={layout.name === 'compact'} \n          text='Compact' \n          class={{...bg}}\n        />\n      </radioset>\n    </form>\n    <box top={9} height={10} tags={true}  class={{...bg}}>\n    {help}\n    </box>\n  </box>\n)\n\n\nexport default functional(Settings, {\n  componentDidMount: (props, refs) => {\n    //workaround\n    const selected = refs.form.children[1].children.find(c => c.checked)\n    setTimeout(() => selected.focus())\n  }\n})"]}