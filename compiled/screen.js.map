{"version":3,"sources":["../src/screen.js"],"names":[],"mappings":"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","file":"screen.js","sourcesContent":["import {focusTab, focusPanel, resume, pause, stepOver, stepInto, stepOut} from './actions'\n\nimport blessed from 'blessed'\n\nexport default store => {\n  const {dispatch, getState} = store\n  const screen =  blessed.screen({\n    autoPadding: true,\n    smartCSR: true,\n    title: 'Terminal Devtools',\n    sendFocus: true,\n    dockBorders: true,\n    autoPadding: true,\n    log: './log',\n    // log: '/dev/ttys001',\n    ignoreLocked: ['C-c']\n  })\n\n  console.log = screen.log.bind(screen)\n  console.error = screen.log.bind(screen, 'ERROR: ')\n\n  screen.key(['escape', 'q', 'C-c'], function(ch, key) {\n    return process.exit(0);\n  })\n\n  screen.key(['C-n'], () => dispatch(focusPanel('navigator')))\n  screen.key(['C-t'], () => dispatch(focusPanel('editor')))\n  screen.key(['C-s'], () => dispatch(focusPanel('callstack')))\n  screen.key(['C-p'], () => dispatch(focusPanel('breakpoints')))\n  screen.key(['C-o'], () => dispatch(focusPanel('scope')))\n  screen.key(['C-k'], () => dispatch(focusPanel('console')))\n  screen.key(['C-k'], () => dispatch(focusPanel('console')))\n  screen.key(['?'], () => dispatch(focusPanel('settings')))\n\n  screen.key(['F8', 'C-\\\\', 'r'], () => dispatch(resume()))\n  screen.key(['S-F8', 'C-S-\\\\', 'p'], () => dispatch(pause()))\n  screen.key(['F10', 'C-\\'', 'n'], () => dispatch(stepOver()))\n  screen.key(['F11', 'C-;', 'i'], () => dispatch(stepInto()))\n  screen.key(['S-F11', 'C-S-;', 'o'], () => dispatch(stepOut()))\n\n  screen.key(['tab'], () => {\n    const {panel, tab, layout} = getState()\n    const {ordering} = layout[tab]\n    let ix = ordering.indexOf(panel) + 1\n    if (ix >= ordering.length) ix = 0\n    dispatch(focusPanel(ordering[ix]))\n  })\n\n  screen.key(['S-tab'], () => {\n    const {panel, tab, layout} = getState()\n    const {ordering} = layout[tab]\n    let ix = ordering.indexOf(panel) - 1\n    if (ix < 0) ix = ordering.length -1\n    dispatch(focusPanel(ordering[ix]))\n  })\n  return screen\n}"]}